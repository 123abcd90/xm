!function(){function o(o){function i(i){function e(){var o=t.find(".coopen-img"),i=o.find(".coopen-content")[0],n=t.find(".coopen-btn"),e=n.children("span"),c=i.width/2,a=i.height/2;o.css({"margin-left":-c+"px","margin-top":-a+"px"}),n.length&&e.css("line-height",n.children("img")[0].height+"px")}if(!c||!a)return!1;var t=$(".coopen.static");o.order>0?n($(".coopen.video"),o.video_pic_params.play_num,function(){t.fadeIn(1e3),1==i&&(e(),$(".coopen.static").css("visibility","visible"))}):(t.fadeIn(1e3),1==i&&(e(),$(".coopen.static").css("visibility","visible")))}function n(o,i,n){function e(){c.eq(s-1).hide(),c.eq(s).show(),setTimeout(function(){s>=a?(o.fadeOut(500),n&&"function"==typeof n&&n()):e()},1e3/i),s++}var t=o.find(".animation-box"),c=t.children("img"),a=c.length,s=0;o.show(),e()}var e=!1,t=!1;o.pic_params&&(o.pic_params=JSON.parse(o.pic_params.slice(0)),e=o.pic_params.pic_url?!0:!1),o.video_pic_params&&(o.video_pic_params=JSON.parse(o.video_pic_params.slice(0)),t=o.video_pic_params.play_num?!0:!1);var c=!1,a=!1;if($.fn.extend({imgLoaded:function(o){function i(){c==t&&o(n)}var n=this,e=n.find("img"),t=e.length,c=0;e.each(function(o,n){n.complete?(c++,i()):n.onload=function(){c++,i()}})}}),e){var s=o.pic_params,p='style="top:'+s.close_button_top+"px;right:"+s.close_button_right+'px"',r=s.button_mark>0?(s.button_fontsize?'style="font-size:'+s.button_fontsize+"px;":"")+(s.button_textcolor?"color:#"+s.button_textcolor+";":"")+"left:"+s.pic_button_left+"px;top:"+s.pic_button_top+'px"':"",d='<div class="coopen static">                                        <div class="mask"></div>                                        <div class="coopen-img">                                            <img class="coopen-content" src="'+s.pic_url+'" '+(s.click_pic_effect>0?'data-target="'+s.pic_linkurl+'"':"")+">                                            "+(s.button_mark>0?'<div class="coopen-btn" data-target="'+s.button_linkurl+'" '+r+">                                                <span>"+s.button_text+'</span>                                                <img src="'+s.button_url+'">                                            </div>':"")+'                                            <img class="coopen-close" src="'+s.close_button_url+'" '+p+">                                        </div>                                    </div>";$(document.body).prepend(d),$(".coopen.static").imgLoaded(function(e){function a(){e.fadeOut(500),t&&0==o.order&&n($(".coopen.video"),o.video_pic_params.play_num)}function s(o){var o=o||window.event;$(o.currentTarget).data("target")?window.location.href=$(o.currentTarget).data("target"):a()}var p=e.find(".coopen-img"),r=p.find(".coopen-content")[0],d=e.find(".coopen-btn"),l=d.children("span");e.find(".mask").on("click",a),p.find(".coopen-close").on("click",a),p.find(".coopen-btn").on("click",s),p.find(".coopen-content").on("click",s),p.hover(function(){l.css("font-size",1.1*o.pic_params.button_fontsize+"px")},function(){l.css("font-size",o.pic_params.button_fontsize+"px")});var m=function(){var o=r.width/2,i=r.height/2;p.css({"margin-left":-o+"px","margin-top":-i+"px"}),d.length&&l.css("line-height",d.children("img")[0].height+"px")};r.width>0?(m(),t?(c=!0,i()):e.fadeIn(1e3)):(e.css("visibility","hidden"),e.css("display","block"),t?(m(),c=!0,i(1)):(e.css("visibility","visible"),m()))})}if(t){o.video_pic_params.video_pic_url=JSON.parse(o.video_pic_params.video_pic_url.slice(0));var l=o.video_pic_params,m="";$.each(l.video_pic_url,function(o,i){m+='<img src="'+i+'">'});var f='<div class="coopen video">                                        <div class="mask"></div>                                        <div class="animation-box">                                        '+m+"                                        </div>                                    </div>";$(document.body).prepend(f),$(".coopen.video").imgLoaded(function(o){var t=o.find(".animation-box"),c=t.children("img")[0],s=c.width,p=c.height;t.css({width:s+"px",height:p+"px","margin-left":-s/2+"px","margin-top":-p/2+"px"}),e?(a=!0,i()):n(o,l.play_num)})}}var i=".newVersion .coopen{position:fixed;z-index:1001;left:0;top:0;width:100%;height:100%;overflow:hidden;display:none}.newVersion .coopen .mask{position:absolute;z-index:0;left:0;top:0;width:100%;height:100%;background-color:#000;opacity:.6;filter:alpha(opacity=60)}.newVersion .coopen.static .coopen-img{position:absolute;left:50%;top:50%;cursor:pointer}.newVersion .coopen.static .coopen-img .coopen-content{vertical-align:top}.newVersion .coopen.static .coopen-img .coopen-close{position:absolute;right:0;top:0;display:block;cursor:pointer;transition:all .3s ease}.newVersion .coopen.static .coopen-img .coopen-close:hover{-ms-transform:scale(1.1,1.1);transform:scale(1.1,1.1);-webkit-transform:scale(1.1,1.1)}.newVersion .coopen.static .coopen-img .coopen-btn{position:absolute}.newVersion .coopen.static .coopen-img .coopen-btn img{vertical-align:top}.newVersion .coopen.static .coopen-img .coopen-btn span{position:absolute;width:100%;height:100%;text-align:center;font-weight:600;transition:all .3s ease}.newVersion .coopen.video .animation-box{position:absolute;left:50%;top:50%}.newVersion .coopen.video .animation-box img{position:absolute;left:0;top:0;width:100%;height:100%;display:none}";addStyle2head(i);var n=previewId?"/home/common/getCoopenById":"/home/common/getCoopen";$.ajax({url:n,type:"get",data:{id:previewId},dataType:"json",success:function(i){i&&0==i.code&&o(i.data)}})}();